{"ast":null,"code":"import axios from 'axios';\nimport { User } from '../models/User';\nimport { Reimbursement } from '../models/Reimbursement';\nimport { FailedLoginError } from '../errors/FailedLoginError';\nconst libraryClient = axios.create({\n  baseURL: 'http://100.25.132.252:3000',\n  withCredentials: true\n}); //@adam : Library-express is running on my EC2 with public IP 18.232.125.207\n\nexport async function getAllUsers() {\n  const response = await libraryClient.get('/users'); // return response.data;\n  // console.log(response.data);\n\n  return response.data.map(userObj => {\n    const {\n      id,\n      username,\n      password,\n      firstname,\n      lastname,\n      email,\n      role\n    } = userObj;\n    return new User(id, username, password, firstname, lastname, email, role);\n  });\n}\nexport async function destroy() {\n  const response = await libraryClient.get('/logout'); // return response.data;\n\n  console.log(response.data);\n}\nexport async function Allreimbursements() {\n  const response = await libraryClient.get('/reimbursements'); // return response.data;\n  // console.log(response.data);\n\n  return response.data.map(userObj => {\n    const {\n      reimbursementId,\n      author,\n      amount,\n      dateSubmitted,\n      dateResolved,\n      description,\n      resolver,\n      status,\n      type\n    } = userObj;\n    return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type);\n  });\n}\nexport async function createNew(a, b, c, d) {\n  const response = await libraryClient.post(`/reimbursements`, {\n    id: a,\n    amount: b,\n    description: c,\n    type: d\n  });\n  return response.data;\n}\nexport async function updatexx(a, b, c, d, e, f, g) {\n  const response = await libraryClient.patch(`/users`, {\n    username: !!a ? a : null,\n    password: !!b ? b : null,\n    firstname: !!c ? c : null,\n    lastname: !!d ? d : null,\n    email: !!e ? e : null,\n    roleId: !!f ? f : null,\n    userId: g\n  });\n  return response.data;\n}\nexport async function authorRe(id) {\n  const response = await libraryClient.get(`reimbursements/author/userid/${id}`); // console.log(response.data);\n\n  return response.data.map(userObj => {\n    const {\n      reimbursementId,\n      author,\n      amount,\n      dateSubmitted,\n      dateResolved,\n      description,\n      resolver,\n      status,\n      type\n    } = userObj;\n    return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type);\n  });\n}\nexport async function sta(id) {\n  const response = await libraryClient.get(`reimbursements/status/${id}`); // console.log(response.data);\n\n  return response.data.map(userObj => {\n    const {\n      reimbursementId,\n      author,\n      amount,\n      dateSubmitted,\n      dateResolved,\n      description,\n      resolver,\n      status,\n      type\n    } = userObj;\n    return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type);\n  });\n}\nexport async function getSingle(id) {\n  const response = await libraryClient.get(`/users/${id}`); // console.log(response.data);\n\n  return response.data;\n}\nexport async function login(un, pw) {\n  try {\n    const response = await libraryClient.post('/login', {\n      username: un,\n      password: pw\n    });\n    const {\n      id,\n      username,\n      password,\n      firstname,\n      lastname,\n      email,\n      role\n    } = response.data;\n    return new User(id, username, password, firstname, lastname, email, role);\n  } catch (e) {\n    if (e.response.status === 401 || e.response.status === 400) {\n      throw new FailedLoginError('Failed to authenticate', un);\n    } else {\n      // We could throw a different custom error, this exposes a little too much to the user.\n      throw e;\n    }\n  }\n}","map":{"version":3,"sources":["/Users/Shadow/react1/myapp/src/api/LibraryClient.tsx"],"names":["axios","User","Reimbursement","FailedLoginError","libraryClient","create","baseURL","withCredentials","getAllUsers","response","get","data","map","userObj","id","username","password","firstname","lastname","email","role","destroy","console","log","Allreimbursements","reimbursementId","author","amount","dateSubmitted","dateResolved","description","resolver","status","type","createNew","a","b","c","d","post","updatexx","e","f","g","patch","roleId","userId","authorRe","sta","getSingle","login","un","pw"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { User } from '../models/User';\nimport { Reimbursement } from '../models/Reimbursement';\n\nimport { FailedLoginError } from '../errors/FailedLoginError';\n\n\nconst libraryClient = axios.create({\n  baseURL: 'http://100.25.132.252:3000',\n  withCredentials: true,\n});\n\n//@adam : Library-express is running on my EC2 with public IP 18.232.125.207\n\n\nexport async function getAllUsers() : Promise<User[] | any> {\n  const response = await libraryClient.get('/users');\n  // return response.data;\n  // console.log(response.data);\n  return response.data.map((userObj: any) => {\n    const {id, username, password, firstname, lastname, email, role} = userObj;\n    return new User(id, username, password, firstname, lastname,email, role);\n  });\n}\n\nexport async function destroy() : Promise<any> {\n  const response = await libraryClient.get('/logout');\n  // return response.data;\n  console.log(response.data);\n}\n\nexport async function Allreimbursements() : Promise<Reimbursement[] | any> {\n  const response = await libraryClient.get('/reimbursements');\n  // return response.data;\n  // console.log(response.data);\n  return response.data.map((userObj: any) => {\n    const {reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type} = userObj;\n    return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved,description, resolver,status, type);\n  });\n}\n\n\n\n\nexport async function createNew(a:number,b:number,c:string, d:number) : Promise<Reimbursement[] | any> {\n\n  const response = await libraryClient.post(`/reimbursements`,{id:a,amount:b,description:c,type:d});\n  return response.data;\n}\n\nexport async function updatexx(a:any,b:any,c:any,d:any,e:any,f:any, g:number) : Promise<User[] | any> {\n\n  const response = await libraryClient.patch(`/users`,{username:!!(a)?a:null,password:!!(b)?b:null,firstname:!!(c)?c:null,lastname:!!(d)?d:null,email:!!(e)?e:null,roleId:!!(f)?f:null, userId:g});\n  return response.data;\n}\n\nexport async function authorRe(id:number) : Promise<Reimbursement[] | any> {\n  const response = await libraryClient.get(`reimbursements/author/userid/${id}`);\n  // console.log(response.data);\n  return response.data.map((userObj: any) => {\n    const {reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type} = userObj;\n    return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved,description, resolver,status, type);\n  });\n}\n\nexport async function sta(id:number) : Promise<Reimbursement[] | any> {\n  const response = await libraryClient.get(`reimbursements/status/${id}`);\n  // console.log(response.data);\n  return response.data.map((userObj: any) => {\n    const {reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type} = userObj;\n    return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved,description, resolver,status, type);\n  });\n}\n\nexport async function getSingle(id:number) : Promise<User[] | any> {\n  const response = await libraryClient.get(`/users/${id}`);\n  // console.log(response.data);\n  return response.data;\n}\n\nexport async function login(un: string, pw: string): Promise<User> {\n  try {\n    const response = await libraryClient.post('/login', {username: un, password: pw});\n    const {id, username, password,firstname,lastname, email, role} = response.data;\n    return new User(id, username, password, firstname,lastname, email, role);\n  } catch (e) {\n    if(e.response.status === 401 ||e.response.status === 400) {\n      throw new FailedLoginError('Failed to authenticate', un);\n    } else {\n      // We could throw a different custom error, this exposes a little too much to the user.\n      throw e;\n    }\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module"}