{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\johna\\\\Development\\\\training\\\\react-revature\\\\projects\\\\proj-2-react\\\\src\\\\components\\\\views\\\\ComposeMessage.tsx\";\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Form, FormGroup, Label, Input } from 'reactstrap';\nimport { getAllInboxes } from '../../api/LibraryClient';\nexport class ComposeMessage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.generateRecipients = boxes => {\n      return boxes.map(box => {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: box.inboxId,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 20\n          }\n        }, box.owner.username);\n      });\n    };\n\n    this.handleChange = ev => {\n      if (ev.currentTarget.name === \"inbox\") {\n        this.setState({\n          recipientInboxId: ev.currentTarget.value\n        });\n      } else if (ev.currentTarget.name === \"messageText\") {\n        this.setState({\n          msgText: ev.currentTarget.value\n        });\n      }\n    };\n\n    this.handleSubmit = ev => {\n      ev.preventDefault();\n      console.log(\"form submitted, message sent\");\n    };\n\n    this.state = {\n      inboxes: [],\n      recipientInboxId: 0,\n      msgText: \"\"\n    };\n  }\n\n  async componentDidMount() {\n    const allBoxes = await getAllInboxes();\n    this.setState({\n      inboxes: allBoxes\n    });\n  }\n\n  render() {\n    console.log(\"ComposeMessage State: \", this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/inbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 38\n      }\n    }, \"Cancel\")), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, \"New\"), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"inbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, \"Recipient\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"inbox\",\n      onChange: this.handleChange,\n      value: this.state.recipientInboxId,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, this.generateRecipients(this.state.inboxes))), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      name: \"messageText\",\n      placeholder: \"write your message here\",\n      onChange: this.handleChange,\n      value: this.state.msgText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"notdiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"submit\",\n      value: \"Send\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/johna/Development/training/react-revature/projects/proj-2-react/src/components/views/ComposeMessage.tsx"],"names":["React","NavLink","Form","FormGroup","Label","Input","getAllInboxes","ComposeMessage","Component","constructor","props","generateRecipients","boxes","map","box","inboxId","owner","username","handleChange","ev","currentTarget","name","setState","recipientInboxId","value","msgText","handleSubmit","preventDefault","console","log","state","inboxes","componentDidMount","allBoxes","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Form, FormGroup, Label, Input } from 'reactstrap';\r\nimport { Inbox } from '../../models/Inbox';\r\nimport { getAllInboxes } from '../../api/LibraryClient';\r\n\r\ninterface IComposeMessageState {\r\n    inboxes : Inbox[];\r\n    recipientInboxId : number;\r\n    msgText : string;\r\n}\r\n\r\nexport class ComposeMessage extends React.Component<any, IComposeMessageState> {\r\n\r\n    constructor(props : any) {\r\n        super(props);\r\n        this.state = {\r\n            inboxes: [],\r\n            recipientInboxId: 0,\r\n            msgText: \"\"\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const allBoxes = await getAllInboxes();\r\n        this.setState({ inboxes: allBoxes });\r\n    }\r\n\r\n    generateRecipients = (boxes : Inbox[]) : any => {\r\n        return boxes.map((box : Inbox) => {\r\n            return <option value={box.inboxId}>{box.owner.username}</option>\r\n        });\r\n    }\r\n\r\n    handleChange = (ev : any) => {\r\n        if (ev.currentTarget.name === \"inbox\") {\r\n            this.setState({recipientInboxId: ev.currentTarget.value});\r\n        } else if (ev.currentTarget.name === \"messageText\") {\r\n            this.setState({msgText: ev.currentTarget.value});\r\n        }\r\n    }\r\n\r\n    handleSubmit = (ev : any) => {\r\n        ev.preventDefault();\r\n        console.log(\"form submitted, message sent\");\r\n        \r\n    }\r\n\r\n    render() {\r\n        console.log(\"ComposeMessage State: \", this.state);\r\n        \r\n        return (\r\n            <div>\r\n                <NavLink to=\"/inbox\"><button>Cancel</button></NavLink>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <h3></h3>\r\n                    <span className=\"tag\">New</span>\r\n                    <FormGroup>\r\n                        <Label for=\"inbox\">Recipient</Label>\r\n                        <select name=\"inbox\" onChange={this.handleChange} value={this.state.recipientInboxId} required>\r\n                            {this.generateRecipients(this.state.inboxes)}\r\n                        </select>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Input type=\"textarea\" name=\"messageText\" placeholder=\"write your message here\" onChange={this.handleChange} value={this.state.msgText}/>\r\n                    </FormGroup>\r\n                    <FormGroup className=\"notdiv\">\r\n                        <Input type=\"submit\" value=\"Send\" />\r\n                    </FormGroup>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}