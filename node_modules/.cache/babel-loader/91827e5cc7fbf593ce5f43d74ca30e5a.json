{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{authorRe}from'../../api/LibraryClient';import{Review}from'./view1';import{Err1,ErrS}from'../../errors/error1';export var Authored=/*#__PURE__*/function(_React$Component){_inherits(Authored,_React$Component);var _super=_createSuper(Authored);function Authored(props){var _this;_classCallCheck(this,Authored);_this=_super.call(this,props);_this.clearError=function(){_this.setState({isError:false,errorMessage:''});};_this.state={authorr:'fetching user by id',isError:false,errorMessage:''};return _this;}_createClass(Authored,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=this;_context.next=3;return authorRe(this.props.userid);case 3:_context.t1=_context.sent;_context.t2={authorr:_context.t1,isError:false};_context.t0.setState.call(_context.t0,_context.t2);case 6:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){return this.props.userid!==nextState.userid;}},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.t0=this;_context2.next=4;return authorRe(this.props.userid);case 4:_context2.t1=_context2.sent;_context2.t2={authorr:_context2.t1,isError:false};_context2.t0.setState.call(_context2.t0,_context2.t2);_context2.next=12;break;case 9:_context2.prev=9;_context2.t3=_context2[\"catch\"](0);// We set the error information in our state.\n// This will let us render something about the error to the end user\nthis.setState({authorr:'',isError:true,errorMessage:_context2.t3.message});// }\ncase 12:case\"end\":return _context2.stop();}}},_callee2,this,[[0,9]]);}));function componentDidUpdate(){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"render\",value:function render(){var data=this.state.authorr;if(typeof data===\"string\"){return/*#__PURE__*/React.createElement(ErrS,{data:data,err:this.state.errorMessage});}if(this.state.isError){return/*#__PURE__*/React.createElement(Err1,{err:this.state.errorMessage});}else{return data.map(function(u){return/*#__PURE__*/React.createElement(Review,{id:u.reimbursementId,author:u.author,amount:u.amount,resolver:u.resolver,status:u.status,type:u.type,description:u.description,date1:u.dateSubmitted,date2:u.dateResolved});});}}}]);return Authored;}(React.Component);","map":{"version":3,"sources":["/Users/Shadow/react1/myapp/src/components/rem/author.tsx"],"names":["React","authorRe","Review","Err1","ErrS","Authored","props","clearError","setState","isError","errorMessage","state","authorr","userid","nextProps","nextState","message","data","map","u","reimbursementId","author","amount","resolver","status","type","description","dateSubmitted","dateResolved","Component"],"mappings":"m1BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,yBAAzB,CAEA,OAAQC,MAAR,KAAqB,SAArB,CACA,OAASC,IAAT,CAAeC,IAAf,KAA2B,qBAA3B,CASA,UAAaC,CAAAA,QAAb,gHAEE,kBAAYC,KAAZ,CAAwB,0CACtB,uBAAMA,KAAN,EADsB,MA6CxBC,UA7CwB,CA6CX,UAAM,CACjB,MAAKC,QAAL,CAAc,CACZC,OAAO,CAAE,KADG,CAEZC,YAAY,CAAE,EAFF,CAAd,EAID,CAlDuB,CAEtB,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,qBADE,CAEXH,OAAO,CAAE,KAFE,CAGXC,YAAY,CAAE,EAHH,CAAb,CAFsB,aAOvB,CATH,+RAYI,IAZJ,uBAamBT,CAAAA,QAAQ,CAAC,KAAKK,KAAL,CAAWO,MAAZ,CAb3B,+CAaID,OAbJ,aAcUH,OAdV,CAcmB,KAdnB,cAYSD,QAZT,2QAkBwBM,SAlBxB,CAkBwCC,SAlBxC,CAkBwD,CACpD,MAAO,MAAKT,KAAL,CAAWO,MAAX,GAAsBE,SAAS,CAACF,MAAvC,CACD,CApBH,mSA2BM,IA3BN,wBA4BuBZ,CAAAA,QAAQ,CAAC,KAAKK,KAAL,CAAWO,MAAZ,CA5B/B,kDA4BQD,OA5BR,cA6BQH,OA7BR,CA6BiB,KA7BjB,eA2BWD,QA3BX,oHAiCM;AACA;AACA,KAAKA,QAAL,CAAc,CACZI,OAAO,CAAE,EADG,CAEZH,OAAO,CAAE,IAFG,CAGZC,YAAY,CAAE,aAAEM,OAHJ,CAAd,EAKF;AAxCJ,6NAwDW,CAEP,GAAMC,CAAAA,IAAI,CAAG,KAAKN,KAAL,CAAWC,OAAxB,CACA,GAAG,MAAOK,CAAAA,IAAP,GAAiB,QAApB,CAA6B,CACrB,mBAAO,oBAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,CAAkB,GAAG,CAAE,KAAKN,KAAL,CAAWD,YAAlC,EAAP,CACP,CAED,GAAG,KAAKC,KAAL,CAAWF,OAAd,CAAsB,CAClB,mBAAO,oBAAC,IAAD,EAAM,GAAG,CAAE,KAAKE,KAAL,CAAWD,YAAtB,EAAP,CACH,CAFD,IAEK,CACD,MAAQO,CAAAA,IAAI,CAACC,GAAL,CAAS,SAACC,CAAD,CAAwB,CACrC,mBACP,oBAAC,MAAD,EAAQ,EAAE,CAAEA,CAAC,CAACC,eAAd,CAA+B,MAAM,CAAED,CAAC,CAACE,MAAzC,CAAiD,MAAM,CAAEF,CAAC,CAACG,MAA3D,CACC,QAAQ,CAAEH,CAAC,CAACI,QADb,CACuB,MAAM,CAAEJ,CAAC,CAACK,MADjC,CACyC,IAAI,CAAEL,CAAC,CAACM,IADjD,CACuD,WAAW,CAAEN,CAAC,CAACO,WADtE,CAEE,KAAK,CAAEP,CAAC,CAACQ,aAFX,CAE0B,KAAK,CAAER,CAAC,CAACS,YAFnC,EADO,CAKK,CAND,CAAR,CAQH,CAEF,CA5EH,sBAA8B5B,KAAK,CAAC6B,SAApC","sourcesContent":["import React from 'react';\nimport { authorRe } from '../../api/LibraryClient';\nimport { Reimbursement } from '../../models/Reimbursement';\nimport {Review} from './view1';\nimport { Err1, ErrS } from '../../errors/error1';\n\n\ninterface IBooksDisplayState {\n  authorr: Reimbursement[]|any;\n  isError: boolean;\n  errorMessage: string;\n}\n\nexport class Authored extends React.Component<any, IBooksDisplayState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      authorr: 'fetching user by id',\n      isError: false,\n      errorMessage: '',\n    }\n  }\n\n  async componentDidMount() {\n    this.setState({\n    authorr: await authorRe(this.props.userid),\n          isError: false\n        })\n      }\n\n  shouldComponentUpdate(nextProps: any, nextState: any) {\n    return this.props.userid !== nextState.userid;\n  }\n\n \n\n  async componentDidUpdate() {\n    try {\n\n      this.setState({\n        authorr: await authorRe(this.props.userid),\n        isError: false\n      })\n\n    } catch (e) {\n      // We set the error information in our state.\n      // This will let us render something about the error to the end user\n      this.setState({\n        authorr: '',\n        isError: true,\n        errorMessage: e.message,\n      })\n    // }\n  }\n  }\n\n\n  \n\n  clearError = () => {\n    this.setState({\n      isError: false,\n      errorMessage: '',\n    });\n  }\n\n\n\n  render() {\n\n    const data = this.state.authorr;\n    if(typeof(data) === \"string\"){ \n            return <ErrS data={data} err={this.state.errorMessage} />\n    }\n\n    if(this.state.isError){\n        return <Err1 err={this.state.errorMessage} />\n    }else{\n        return (data.map((u:Reimbursement|any) =>{\n            return(\n     <Review id={u.reimbursementId} author={u.author} amount={u.amount}\n      resolver={u.resolver} status={u.status} type={u.type} description={u.description}\n       date1={u.dateSubmitted} date2={u.dateResolved} />\n                )      \n                })\n        )\n    }\n    \n  }\n  \n}"]},"metadata":{},"sourceType":"module"}