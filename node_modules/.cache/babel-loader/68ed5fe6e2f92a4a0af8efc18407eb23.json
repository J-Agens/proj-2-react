{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{patching}from'../../api/LibraryClient';import{Review}from'./view1';// import { Route, Switch, Redirect} from 'react-router';\n//the updateUser prop takes a function that takes a user and returns voide\n// it will match updateUser in App.\nexport var Paa=/*#__PURE__*/function(_React$Component){_inherits(Paa,_React$Component);var _super=_createSuper(Paa);function Paa(props){var _this;_classCallCheck(this,Paa);_this=_super.call(this,props);_this.setAmount=function(pw){_this.setState({amount:pw.currentTarget.value});};_this.setStatus=function(pw){_this.setState({status:pw.currentTarget.value});};_this.setTheid=function(pw){_this.setState({theid:pw.currentTarget.value});};_this.setDescription=function(pw){_this.setState({description:pw.currentTarget.value});};_this.setType=function(pw){_this.setState({type:pw.currentTarget.value});};_this.clearError=function(){_this.setState({errorMessage:'',isError:false,success:false,id:'',amount:'',description:'',type:''});};_this.attemptUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var levelup;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(event);_context.prev=2;_context.next=5;return patching(_this.state.theid,_this.props.id,_this.state.amount,_this.state.description,_this.state.status,_this.state.type);case 5:levelup=_context.sent;_this.props.updateUserxx(levelup);_this.setState({user:levelup,amount:'',description:'',success:true});console.log(levelup);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);_this.setState({description:'',isError:true,success:false,errorMessage:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={id:'',amount:'',description:'',type:'',status:'',userid:'',theid:'',isError:false,errorMessage:'',success:false,user:''};return _this;}_createClass(Paa,[{key:\"render\",value:function render(){if(!this.state.success){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.attemptUpdate},/*#__PURE__*/React.createElement(\"span\",{className:\"tag\"},\" New\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{onChange:this.setTheid,value:this.state.theid,type:\"number\",name:\"id\",placeholder:\"Reimbursement ID (required!)\",required:true})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{onChange:this.setAmount,value:this.state.amount,type:\"number\",name:\"amount\",id:\"amount\",placeholder:\"set amount\"}),/*#__PURE__*/React.createElement(\"input\",{onChange:this.setDescription,value:this.state.description,type:\"text\",name:\"description\",placeholder:\"describe here\",autoComplete:\"false\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"select\",{onChange:this.setType,name:\"type\"},/*#__PURE__*/React.createElement(\"option\",null,\"select type\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"Food\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"Travel\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"Other\")),/*#__PURE__*/React.createElement(\"select\",{onChange:this.setStatus,name:\"status\"},/*#__PURE__*/React.createElement(\"option\",null,\"change status\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"pending\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"Aproved\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"denied\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"notdiv\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"submit\"}))),/*#__PURE__*/React.createElement(\"h3\",null,this.state.errorMessage));}else{var data=this.state.user;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h3\",null,\"sucessfully updated ..\",/*#__PURE__*/React.createElement(\"span\",{className:\"button\",onClick:this.clearError},\"updated another\")),/*#__PURE__*/React.createElement(Review,{id:data.reimbursementId,author:data.author,amount:data.amount,resolver:data.resolver,status:data.status,type:data.type,description:data.description,date1:data.dateSubmitted,date2:data.dateResolved}));}}}]);return Paa;}(React.Component);","map":{"version":3,"sources":["/Users/Shadow/propject/project-1-mohamedctm/src/components/rem/patching.tsx"],"names":["React","patching","Review","Paa","props","setAmount","pw","setState","amount","currentTarget","value","setStatus","status","setTheid","theid","setDescription","description","setType","type","clearError","errorMessage","isError","success","id","attemptUpdate","event","preventDefault","console","log","state","levelup","updateUserxx","user","message","userid","data","reimbursementId","author","resolver","dateSubmitted","dateResolved","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Reimbursement } from '../../models/Reimbursement';\nimport { patching } from '../../api/LibraryClient';\nimport { Review } from './view1';\n// import { Route, Switch, Redirect} from 'react-router';\n\n//the updateUser prop takes a function that takes a user and returns voide\n// it will match updateUser in App.\ninterface IUpdateComponentProps {\n  updateUserxx: (user:Reimbursement) => void;\n  id:number|any;\n}\n\ninterface ILoginComponentState {\n    id: number |any,\n    amount: number |any,\n    description: number |any,\n    type: number |any,\n    status: number |any,\n    userid: number | any;\n    theid: number | any;\n    isError: boolean;\n  errorMessage: string;\n  success:boolean;\n  user: Reimbursement |any;\n}\n\nexport class Paa extends React.Component<IUpdateComponentProps, ILoginComponentState> {\n\n  constructor(props: IUpdateComponentProps) {\n    super(props);\n    this.state = {\n        id: '',\n        amount: '',\n        description: '',\n        type: '',\n        status: '',\n        userid: '',\n        theid: '',\n        isError: false,\n      errorMessage: '',\n      success:false,\n      user:'',\n    }\n  }\n\n  setAmount= (pw: any) => {\n    this.setState({\n      amount: pw.currentTarget.value,\n    })\n  }\n\n  setStatus= (pw: any) => {\n    this.setState({\n      status: pw.currentTarget.value,\n    })\n  }\n\n  setTheid= (pw: any) => {\n    this.setState({\n      theid: pw.currentTarget.value,\n    })\n  }\n  setDescription = (pw: any) => {\n    this.setState({\n      description: pw.currentTarget.value,\n    })\n  }\n  setType= (pw: any) => {\n    this.setState({\n      type: pw.currentTarget.value,\n    })\n  }\n//   setId = (pw: any) => {\n//     this.setState({\n//       id: pw.currentTarget.value,\n//     })\n//   }\n\n  clearError = () => {\n    this.setState({\n      errorMessage: '',\n      isError: false,\n      success: false,\n      id: '',\n      amount: '',\n      description: '',\n      type: '',\n\n      \n    })\n  }\n\n  attemptUpdate = async (event: any) => {\n    event.preventDefault();\n    console.log(event);\n    try {\n      const levelup : Reimbursement = await patching(this.state.theid,this.props.id,this.state.amount,this.state.description,this.state.status,this.state.type);\n      this.props.updateUserxx(levelup);\n      this.setState({\n          user: levelup,\n        amount: '',\n        description: '',\n        success: true\n      });\n      console.log(levelup);\n    \n    } catch (error) {\n      this.setState({\n        description: '',\n        isError: true,\n        success:false,\n        errorMessage: error.message,\n      })\n    }\n  }\n\n  render() {\n    if(!this.state.success){\n    return (\n      <div>\n      <form onSubmit={this.attemptUpdate}>\n        <span className=\"tag\"> New</span>\n          <div>\n            <input onChange={this.setTheid} value={this.state.theid} type=\"number\" name=\"id\"  \n            placeholder=\"Reimbursement ID (required!)\"  required />\n          </div>\n          <div>\n          <input onChange={this.setAmount} value={this.state.amount} type=\"number\" name=\"amount\"\n           id=\"amount\" placeholder=\"set amount\"\n           />\n            <input onChange={this.setDescription} value={this.state.description} type=\"text\" name=\"description\" \n            placeholder=\"describe here\" autoComplete='false'  />\n          </div>\n          \n            <div>\n            <select onChange={this.setType} name=\"type\" >\n            <option >select type</option>\n            <option value=\"1\">Food</option>\n            <option value=\"2\">Travel</option>\n            <option value=\"3\">Other</option>\n            </select>\n            <select onChange={this.setStatus} name=\"status\" >\n            <option >change status</option>\n            <option value=\"1\">pending</option>\n            <option value=\"2\">Aproved</option>\n            <option value=\"3\">denied</option>\n            </select>\n          </div>\n          \n          <div className=\"notdiv\">\n            <input type=\"submit\" value=\"submit\" />\n          </div>\n      </form>\n     {<h3>{this.state.errorMessage}</h3>}\n      </div>\n    );\n    }\n    else{ \n        \n        const data = this.state.user;\n        \n        return (\n      <>\n    <h3>sucessfully updated ..\n\n        <span className=\"button\" onClick={this.clearError}>updated another</span>\n    </h3>\n    <Review id={data.reimbursementId} author={data.author} amount={data.amount} resolver={data.resolver} status={data.status} type={data.type} description={data.description} date1={data.dateSubmitted} date2={data.dateResolved} />\n\n    </>\n     ) \n    }\n  }\n\n}"]},"metadata":{},"sourceType":"module"}