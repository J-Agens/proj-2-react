{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{getSingle}from'../../api/LibraryClient';import{Eview}from'./view';// import { QuickTable } from './QuickTable';\nexport var AllUsersx=/*#__PURE__*/function(_React$Component){_inherits(AllUsersx,_React$Component);var _super=_createSuper(AllUsersx);function AllUsersx(props){var _this;_classCallCheck(this,AllUsersx);_this=_super.call(this,props);_this.clearError=function(){_this.setState({isError:false,errorMessage:''});};_this.state={members:[],isError:false,errorMessage:''};return _this;}_createClass(AllUsersx,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.t0=this;_context.next=4;return getSingle(this.props.getUser);case 4:_context.t1=_context.sent;_context.t2={members:_context.t1};_context.t0.setState.call(_context.t0,_context.t2);_context.next=12;break;case 9:_context.prev=9;_context.t3=_context[\"catch\"](0);// We set the error information in our state.\n// This will let us render something about the error to the end user\nthis.setState({isError:true,errorMessage:_context.t3.message});case 12:case\"end\":return _context.stop();}}},_callee,this,[[0,9]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.setState({members:null,isError:false,errorMessage:''});}},{key:\"render\",value:function render(){if(!this.state.isError){//map to a string so quicktable can render this.\nvar u=this.state.members;return/*#__PURE__*/React.createElement(Eview,{id:u.id,username:u.username,pass:u.password,firstname:u.firstname,lastname:u.lastname,email:u.email,role:u.role});}else{switch(this.state.errorMessage){case\"Request failed with status code 402\":return/*#__PURE__*/React.createElement(\"h3\",null,\"login required\");case\"Request failed with status code 403\":return/*#__PURE__*/React.createElement(\"h3\",null,\"Finance manager role is required!\");default:return/*#__PURE__*/React.createElement(\"h3\",null,\"unknown Error\");}}}}]);return AllUsersx;}(React.Component);","map":{"version":3,"sources":["/Users/Shadow/propject/project-1-mohamedctm/src/components/emp/UsersAllx.tsx"],"names":["React","getSingle","Eview","AllUsersx","props","clearError","setState","isError","errorMessage","state","members","getUser","message","u","id","username","password","firstname","lastname","email","role","Component"],"mappings":"y7BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,SAAT,KAA0B,yBAA1B,CACA,OAASC,KAAT,KAAsB,QAAtB,CACA;AAQA,UAAaC,CAAAA,SAAb,kHAEE,mBAAYC,KAAZ,CAAwB,2CACtB,uBAAMA,KAAN,EADsB,MAmCxBC,UAnCwB,CAmCX,UAAM,CACjB,MAAKC,QAAL,CAAc,CACZC,OAAO,CAAE,KADG,CAEZC,YAAY,CAAE,EAFF,CAAd,EAID,CAxCuB,CAEtB,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,EADE,CAEXH,OAAO,CAAE,KAFE,CAGXC,YAAY,CAAE,EAHH,CAAb,CAFsB,aAOvB,CATH,gTAaM,IAbN,uBAcuBP,CAAAA,SAAS,CAAC,KAAKG,KAAL,CAAWO,OAAZ,CAdhC,+CAcQD,OAdR,0BAaWJ,QAbX,8GAiBM;AACA;AACA,KAAKA,QAAL,CAAc,CAEZC,OAAO,CAAE,IAFG,CAGZC,YAAY,CAAE,YAAEI,OAHJ,CAAd,EAnBN,oPA0B0B,CAEpB,KAAKN,QAAL,CAAc,CACZI,OAAO,CAAE,IADG,CAEZH,OAAO,CAAE,KAFG,CAGZC,YAAY,CAAE,EAHF,CAAd,EAKH,CAjCH,uCA4CW,CACP,GAAG,CAAC,KAAKC,KAAL,CAAWF,OAAf,CAAwB,CACtB;AACA,GAAMM,CAAAA,CAAC,CAAG,KAAKJ,KAAL,CAAWC,OAArB,CACA,mBACG,oBAAC,KAAD,EAAO,EAAE,CAAEG,CAAC,CAACC,EAAb,CAAiB,QAAQ,CAAED,CAAC,CAACE,QAA7B,CAAuC,IAAI,CAAEF,CAAC,CAACG,QAA/C,CACC,SAAS,CAAEH,CAAC,CAACI,SADd,CACyB,QAAQ,CAAEJ,CAAC,CAACK,QADrC,CAEE,KAAK,CAAEL,CAAC,CAACM,KAFX,CAEkB,IAAI,CAAEN,CAAC,CAACO,IAF1B,EADH,CAQD,CAXD,IAYC,CACC,OAAO,KAAKX,KAAL,CAAWD,YAAlB,EACI,IAAK,qCAAL,CACG,mBAAO,+CAAP,CACH,IAAK,qCAAL,CACG,mBAAQ,kEAAR,CACH,QACG,mBAAO,8CAAP,CANP,CAQD,CAEF,CApEH,uBAA+BR,KAAK,CAACqB,SAArC","sourcesContent":["import React from 'react';\nimport { User } from '../../models/User';\nimport { getSingle } from '../../api/LibraryClient';\nimport { Eview } from './view';\n// import { QuickTable } from './QuickTable';\n\ninterface IBooksDisplayState {\n  members: User[]|any;\n  isError: boolean;\n  errorMessage: string;\n}\n\nexport class AllUsersx extends React.Component<any, IBooksDisplayState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      members: [],\n      isError: false,\n      errorMessage: '',\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      this.setState({\n        members: await getSingle(this.props.getUser)\n      })\n    } catch (e) {\n      // We set the error information in our state.\n      // This will let us render something about the error to the end user\n      this.setState({\n        \n        isError: true,\n        errorMessage: e.message,\n      })\n    }\n  }\n   componentWillUnmount() {\n\n      this.setState({\n        members: null,\n        isError: false,\n        errorMessage: '',\n      })\n  }\n\n  \n\n  clearError = () => {\n    this.setState({\n      isError: false,\n      errorMessage: '',\n    });\n  }\n\n  render() {\n    if(!this.state.isError) {\n      //map to a string so quicktable can render this.\n      const u = this.state.members;\n      return (\n         <Eview id={u.id} username={u.username} pass={u.password}\n          firstname={u.firstname} lastname={u.lastname}\n           email={u.email} role={u.role} />\n\n      )\n         \n         \n    } \nelse {\n      switch(this.state.errorMessage){\n          case \"Request failed with status code 402\":\n             return <h3>login required</h3>\n          case \"Request failed with status code 403\":\n             return  <h3>Finance manager role is required!</h3>\n          default :\n             return <h3>unknown Error</h3>\n      }\n    }\n    \n  }\n  \n}"]},"metadata":{},"sourceType":"module"}