{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{User}from'../models/User';import{Reimbursement}from'../models/Reimbursement';import{FailedLoginError}from'../errors/FailedLoginError';var libraryClient=axios.create({baseURL:'http://100.25.132.252:3000',withCredentials:true});//@adam : Library-express is running on my EC2 with public IP 18.232.125.207\nexport function getAllUsers(){return _getAllUsers.apply(this,arguments);}function _getAllUsers(){_getAllUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return libraryClient.get('/users');case 2:response=_context.sent;// return response.data;\nconsole.log(response.data);return _context.abrupt(\"return\",response.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getAllUsers.apply(this,arguments);}export function destroy(){return _destroy.apply(this,arguments);}function _destroy(){_destroy=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return libraryClient.get('/logout');case 2:response=_context2.sent;// return response.data;\nconsole.log(response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _destroy.apply(this,arguments);}export function Allreimbursements(){return _Allreimbursements.apply(this,arguments);}function _Allreimbursements(){_Allreimbursements=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return libraryClient.get('/reimbursements');case 2:response=_context3.sent;// return response.data;\nconsole.log(response.data);return _context3.abrupt(\"return\",response.data.map(function(userObj){var reimbursementId=userObj.reimbursementId,author=userObj.author,amount=userObj.amount,dateSubmitted=userObj.dateSubmitted,dateResolved=userObj.dateResolved,description=userObj.description,resolver=userObj.resolver,status=userObj.status,type=userObj.type;return new Reimbursement(reimbursementId,author,amount,dateSubmitted,dateResolved,description,resolver,status,type);}));case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _Allreimbursements.apply(this,arguments);}export function createNew(_x,_x2,_x3,_x4){return _createNew.apply(this,arguments);}function _createNew(){_createNew=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(a,b,c,d){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return libraryClient.post(\"/reimbursements\",{id:a,amount:b,description:c,type:d});case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _createNew.apply(this,arguments);}export function updatexx(_x5,_x6,_x7,_x8,_x9,_x10,_x11){return _updatexx.apply(this,arguments);}function _updatexx(){_updatexx=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(a,b,c,d,e,f,g){var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return libraryClient.patch(\"/users\",{username:!!a?a:null,password:!!b?b:null,firstname:!!c?c:null,lastname:!!d?d:null,email:!!e?e:null,roleId:!!f?f:null,userId:g});case 2:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _updatexx.apply(this,arguments);}export function authorRe(_x12){return _authorRe.apply(this,arguments);}function _authorRe(){_authorRe=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return libraryClient.get(\"reimbursements/author/userid/\".concat(!!id?id:1));case 2:response=_context6.sent;console.log(response.data);return _context6.abrupt(\"return\",response.data);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return _authorRe.apply(this,arguments);}export function patching(_x13,_x14,_x15,_x16,_x17,_x18){return _patching.apply(this,arguments);}function _patching(){_patching=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(a,b,c,d,e,f){var response;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return libraryClient.patch(\"reimbursements/\",{reimbursementid:!!a?a:null,resolver:!!b?b:null,amount:!!c?c:null,description:!!d?d:null,status:!!e?e:null,type:!!f?f:null});case 2:response=_context7.sent;console.log(response.data);return _context7.abrupt(\"return\",response.data);case 5:case\"end\":return _context7.stop();}}},_callee7);}));return _patching.apply(this,arguments);}export function sta(_x19){return _sta.apply(this,arguments);}function _sta(){_sta=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id){var response;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return libraryClient.get(\"reimbursements/status/\".concat(id));case 2:response=_context8.sent;console.log(response.data);return _context8.abrupt(\"return\",response.data.map(function(userObj){var reimbursementId=userObj.reimbursementId,author=userObj.author,amount=userObj.amount,dateSubmitted=userObj.dateSubmitted,dateResolved=userObj.dateResolved,description=userObj.description,resolver=userObj.resolver,status=userObj.status,type=userObj.type;return new Reimbursement(reimbursementId,author,amount,dateSubmitted,dateResolved,description,resolver,status,type);}));case 5:case\"end\":return _context8.stop();}}},_callee8);}));return _sta.apply(this,arguments);}export function getSingle(_x20){return _getSingle.apply(this,arguments);}function _getSingle(){_getSingle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(id){var response;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return libraryClient.get(\"/users/\".concat(id));case 2:response=_context9.sent;console.log(response.data);return _context9.abrupt(\"return\",response.data);case 5:case\"end\":return _context9.stop();}}},_callee9);}));return _getSingle.apply(this,arguments);}export function login(_x21,_x22){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(un,pw){var response,_response$data,id,username,password,firstname,lastname,email,role;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return libraryClient.post('/login',{username:un,password:pw});case 3:response=_context10.sent;_response$data=response.data,id=_response$data.id,username=_response$data.username,password=_response$data.password,firstname=_response$data.firstname,lastname=_response$data.lastname,email=_response$data.email,role=_response$data.role;return _context10.abrupt(\"return\",new User(id,username,password,firstname,lastname,email,role));case 8:_context10.prev=8;_context10.t0=_context10[\"catch\"](0);if(!(_context10.t0.response.status===401||_context10.t0.response.status===400)){_context10.next=14;break;}throw new FailedLoginError('Failed to authenticate',un);case 14:throw _context10.t0;case 15:case\"end\":return _context10.stop();}}},_callee10,null,[[0,8]]);}));return _login.apply(this,arguments);}","map":{"version":3,"sources":["/Users/Shadow/propject/project-1-mohamedctm/src/api/LibraryClient.tsx"],"names":["axios","User","Reimbursement","FailedLoginError","libraryClient","create","baseURL","withCredentials","getAllUsers","get","response","console","log","data","destroy","Allreimbursements","map","userObj","reimbursementId","author","amount","dateSubmitted","dateResolved","description","resolver","status","type","createNew","a","b","c","d","post","id","updatexx","e","f","g","patch","username","password","firstname","lastname","email","roleId","userId","authorRe","patching","reimbursementid","sta","getSingle","login","un","pw","role"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { User } from '../models/User';\nimport { Reimbursement } from '../models/Reimbursement';\n\nimport { FailedLoginError } from '../errors/FailedLoginError';\n\n\nconst libraryClient = axios.create({\n  baseURL: 'http://100.25.132.252:3000',\n  withCredentials: true,\n});\n\n//@adam : Library-express is running on my EC2 with public IP 18.232.125.207\n\n\nexport async function getAllUsers() : Promise<User[] | any> {\n  const response = await libraryClient.get('/users');\n  // return response.data;\n  console.log(response.data);\n  return response.data;\n  // return response.data.map((userObj: any) => {\n  //   const {id, username, password, firstname, lastname, email, role} = userObj;\n  //   return new User(id, username, password, firstname, lastname,email, role);\n  // });\n}\n\nexport async function destroy() : Promise<any> {\n  const response = await libraryClient.get('/logout');\n  // return response.data;\n  console.log(response.data);\n}\n\nexport async function Allreimbursements() : Promise<Reimbursement[] | any> {\n  const response = await libraryClient.get('/reimbursements');\n  // return response.data;\n  console.log(response.data);\n  return response.data.map((userObj: any) => {\n    const {reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type} = userObj;\n    return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved,description, resolver,status, type);\n  });\n}\n\n\n\n\nexport async function createNew(a:number,b:number,c:string, d:number) : Promise<Reimbursement[] | any> {\n\n  const response = await libraryClient.post(`/reimbursements`,{id:a,amount:b,description:c,type:d});\n  return response.data;\n}\n\nexport async function updatexx(a:any,b:any,c:any,d:any,e:any,f:any, g:number) : Promise<User[] | any> {\n\n  const response = await libraryClient.patch(`/users`,{username:!!(a)?a:null,password:!!(b)?b:null,firstname:!!(c)?c:null,lastname:!!(d)?d:null,email:!!(e)?e:null,roleId:!!(f)?f:null, userId:g});\n  return response.data;\n}\n\nexport async function authorRe(id:number) : Promise<Reimbursement[] | any> {\n  const response = await libraryClient.get(`reimbursements/author/userid/${!!(id)?id:1}`);\n  console.log(response.data);\n  return response.data;\n  // return response.data.map((userObj: any) => {\n  //   const {reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type} = userObj;\n  //   return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved,description, resolver,status, type);\n  // });\n}\n\nexport async function patching(a:any,b:any,c:any,d:any,e:any,f:any) : Promise<Reimbursement[] | any> {\n  const response = await libraryClient.patch(`reimbursements/`,{reimbursementid:!!(a)?a:null,resolver:!!(b)?b:null,amount:!!(c)?c:null,description:!!(d)?d:null,status:!!(e)?e:null,type:!!(f)?f:null});\n  console.log(response.data);\n  return response.data;\n  // return response.data.map((userObj: any) => {\n  //   const {reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type} = userObj;\n  //   return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved,description, resolver,status, type);\n  // });\n}\n\nexport async function sta(id:number) : Promise<Reimbursement[] | any> {\n  const response = await libraryClient.get(`reimbursements/status/${id}`);\n  console.log(response.data);\n  return response.data.map((userObj: any) => {\n    const {reimbursementId, author, amount, dateSubmitted, dateResolved, description, resolver, status, type} = userObj;\n    return new Reimbursement(reimbursementId, author, amount, dateSubmitted, dateResolved,description, resolver,status, type);\n  });\n}\n\nexport async function getSingle(id:number) : Promise<User[] | any> {\n  const response = await libraryClient.get(`/users/${id}`);\n  console.log(response.data);\n  return response.data;\n}\n\nexport async function login(un: string, pw: string): Promise<User> {\n  try {\n    const response = await libraryClient.post('/login', {username: un, password: pw});\n    const {id, username, password,firstname,lastname, email, role} = response.data;\n    return new User(id, username, password, firstname,lastname, email, role);\n  } catch (e) {\n    if(e.response.status === 401 ||e.response.status === 400) {\n      throw new FailedLoginError('Failed to authenticate', un);\n    } else {\n      // We could throw a different custom error, this exposes a little too much to the user.\n      throw e;\n    }\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module"}