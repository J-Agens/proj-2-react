{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Shadow/react1/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{getSingle}from'../../api/LibraryClient';import{Err1,ErrS}from'../../errors/error1';import{Eview}from'./view';export var SingleUser=/*#__PURE__*/function(_React$Component){_inherits(SingleUser,_React$Component);var _super=_createSuper(SingleUser);function SingleUser(props){var _this;_classCallCheck(this,SingleUser);_this=_super.call(this,props);_this.clearError=function(){_this.setState({isError:false,errorMessage:''});};_this.state={single:'fetching user by id',isError:false,errorMessage:'',_isMounted:true};return _this;}_createClass(SingleUser,[{key:\"componentWillMount\",value:function(){var _componentWillMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.t0=this;_context.next=4;return getSingle(this.props.userid);case 4:_context.t1=_context.sent;_context.t2={single:_context.t1,isError:false,_isMounted:true};_context.t0.setState.call(_context.t0,_context.t2);_context.next=12;break;case 9:_context.prev=9;_context.t3=_context[\"catch\"](0);// We set the error information in our state.\n// This will let us render something about the error to the end user\nthis.setState({isError:true,errorMessage:_context.t3.message});// }\ncase 12:case\"end\":return _context.stop();}}},_callee,this,[[0,9]]);}));function componentWillMount(){return _componentWillMount.apply(this,arguments);}return componentWillMount;}()},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){return this.props.single!==nextState.single;}},{key:\"componentWillUnmount\",value:function(){var _componentWillUnmount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.setState({single:null,isError:false,_isMounted:false});case 1:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentWillUnmount(){return _componentWillUnmount.apply(this,arguments);}return componentWillUnmount;}()},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.t0=this;_context3.next=4;return getSingle(this.props.userid);case 4:_context3.t1=_context3.sent;_context3.t2={single:_context3.t1,isError:false,_isMounted:false};_context3.t0.setState.call(_context3.t0,_context3.t2);_context3.next=12;break;case 9:_context3.prev=9;_context3.t3=_context3[\"catch\"](0);// We set the error information in our state.\n// This will let us render something about the error to the end user\nthis.setState({isError:true,errorMessage:_context3.t3.message});// }\ncase 12:case\"end\":return _context3.stop();}}},_callee3,this,[[0,9]]);}));function componentDidUpdate(){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"render\",value:function render(){var u=this.state.single;if(typeof u===\"string\"){return/*#__PURE__*/React.createElement(ErrS,{data:u,err:this.state.errorMessage});}if(this.state.isError){return/*#__PURE__*/React.createElement(Err1,{err:this.state.errorMessage});}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Eview,{access:u.id,id:u.id,username:u.username,pass:u.password,firstname:u.firstname,lastname:u.lastname,email:u.email,role:u.role}));}}}]);return SingleUser;}(React.Component);","map":{"version":3,"sources":["/Users/Shadow/react1/myapp/src/components/emp/SingleUser.tsx"],"names":["React","getSingle","Err1","ErrS","Eview","SingleUser","props","clearError","setState","isError","errorMessage","state","single","_isMounted","userid","message","nextProps","nextState","u","id","username","password","firstname","lastname","email","role","Component"],"mappings":"m1BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,yBAA1B,CACA,OAASC,IAAT,CAAeC,IAAf,KAA2B,qBAA3B,CACA,OAASC,KAAT,KAAsB,QAAtB,CAUA,UAAaC,CAAAA,UAAb,oHAEE,oBAAYC,KAAZ,CAAwB,4CACtB,uBAAMA,KAAN,EADsB,MA8DxBC,UA9DwB,CA8DX,UAAM,CACjB,MAAKC,QAAL,CAAc,CACZC,OAAO,CAAE,KADG,CAEZC,YAAY,CAAE,EAFF,CAAd,EAID,CAnEuB,CAEtB,MAAKC,KAAL,CAAa,CACXC,MAAM,CAAE,qBADG,CAEXH,OAAO,CAAE,KAFE,CAGXC,YAAY,CAAE,EAHH,CAIXG,UAAU,CAAE,IAJD,CAAb,CAFsB,aAQvB,CAVH,mTAeM,IAfN,uBAgBsBZ,CAAAA,SAAS,CAAC,KAAKK,KAAL,CAAWQ,MAAZ,CAhB/B,+CAgBQF,MAhBR,aAiBQH,OAjBR,CAiBiB,KAjBjB,CAkBQI,UAlBR,CAkBqB,IAlBrB,cAeWL,QAfX,8GAqBM;AACA;AACA,KAAKA,QAAL,CAAc,CACZC,OAAO,CAAE,IADG,CAEZC,YAAY,CAAE,YAAEK,OAFJ,CAAd,EAIF;AA3BJ,wPA8BwBC,SA9BxB,CA8BwCC,SA9BxC,CA8BwD,CACpD,MAAO,MAAKX,KAAL,CAAWM,MAAX,GAAsBK,SAAS,CAACL,MAAvC,CACD,CAhCH,yQAmCI,KAAKJ,QAAL,CAAc,CACZI,MAAM,CAAE,IADI,CAEZH,OAAO,CAAE,KAFG,CAGZI,UAAU,CAAG,KAHD,CAAd,EAnCJ,sdA6CM,IA7CN,wBA8CsBZ,CAAAA,SAAS,CAAC,KAAKK,KAAL,CAAWQ,MAAZ,CA9C/B,kDA8CQF,MA9CR,cA+CQH,OA/CR,CA+CiB,KA/CjB,CAgDQI,UAhDR,CAgDqB,KAhDrB,eA6CWL,QA7CX,oHAmDM;AACA;AACA,KAAKA,QAAL,CAAc,CACZC,OAAO,CAAE,IADG,CAEZC,YAAY,CAAE,aAAEK,OAFJ,CAAd,EAIF;AAzDJ,6NAyEW,CACP,GAAMG,CAAAA,CAAC,CAAG,KAAKP,KAAL,CAAWC,MAArB,CACA,GAAG,MAAOM,CAAAA,CAAP,GAAc,QAAjB,CAA0B,CACxB,mBAAO,oBAAC,IAAD,EAAM,IAAI,CAAEA,CAAZ,CAAe,GAAG,CAAE,KAAKP,KAAL,CAAWD,YAA/B,EAAP,CACL,CAED,GAAG,KAAKC,KAAL,CAAWF,OAAd,CAAsB,CACpB,mBAAO,oBAAC,IAAD,EAAM,GAAG,CAAE,KAAKE,KAAL,CAAWD,YAAtB,EAAP,CAEG,CAHL,IAGS,CACL,mBACE,qDACD,oBAAC,KAAD,EAAO,MAAM,CAAEQ,CAAC,CAACC,EAAjB,CAAqB,EAAE,CAAED,CAAC,CAACC,EAA3B,CAA+B,QAAQ,CAAED,CAAC,CAACE,QAA3C,CAAqD,IAAI,CAAEF,CAAC,CAACG,QAA7D,CACK,SAAS,CAAEH,CAAC,CAACI,SADlB,CAC6B,QAAQ,CAAEJ,CAAC,CAACK,QADzC,CAEM,KAAK,CAAEL,CAAC,CAACM,KAFf,CAEsB,IAAI,CAAEN,CAAC,CAACO,IAF9B,EADC,CADF,CAOD,CAEA,CA5FH,wBAAgCzB,KAAK,CAAC0B,SAAtC","sourcesContent":["import React from 'react';\nimport { getSingle } from '../../api/LibraryClient';\nimport { Err1, ErrS } from '../../errors/error1';\nimport { Eview } from './view';\n\n\ninterface IBooksDisplayState {\n  single: any;\n  isError: boolean;\n  errorMessage: string;\n  _isMounted:boolean;\n}\n\nexport class SingleUser extends React.Component<any, IBooksDisplayState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      single: 'fetching user by id',\n      isError: false,\n      errorMessage: '',\n      _isMounted: true,\n    }\n  }\n\n  async componentWillMount() {\n    \n    try {\n      this.setState({\n        single: await getSingle(this.props.userid),\n        isError: false,\n        _isMounted : true,\n      })\n    } catch (e) {\n      // We set the error information in our state.\n      // This will let us render something about the error to the end user\n      this.setState({\n        isError: true,\n        errorMessage: e.message,\n      })\n    // }\n  }\n  }\n  shouldComponentUpdate(nextProps: any, nextState: any) {\n    return this.props.single !== nextState.single;\n  }\n\n  async componentWillUnmount(){\n    this.setState({\n      single: null,\n      isError: false,\n      _isMounted : false,\n    })\n  }\n\n  async componentDidUpdate() {\n    \n    try {\n      this.setState({\n        single: await getSingle(this.props.userid),\n        isError: false,\n        _isMounted : false\n      })\n    } catch (e) {\n      // We set the error information in our state.\n      // This will let us render something about the error to the end user\n      this.setState({\n        isError: true,\n        errorMessage: e.message,\n      })\n    // }\n  }\n  }\n\n\n  \n\n  clearError = () => {\n    this.setState({\n      isError: false,\n      errorMessage: '',\n    });\n  }\n\n\n\n  render() {\n    const u = this.state.single;\n    if(typeof(u) === \"string\"){ \n      return <ErrS data={u} err={this.state.errorMessage} />\n}\n\nif(this.state.isError){\n  return <Err1 err={this.state.errorMessage} />\n\n    }else{\n    return(\n      <>\n     <Eview access={u.id} id={u.id} username={u.username} pass={u.password}\n          firstname={u.firstname} lastname={u.lastname}\n           email={u.email} role={u.role} />\n          </>\n    )\n  }\n    \n  }\n  \n}"]},"metadata":{},"sourceType":"module"}