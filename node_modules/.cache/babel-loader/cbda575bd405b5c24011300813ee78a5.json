{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Shadow/propject/project-1-mohamedctm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{createNew}from'../../api/LibraryClient';import{Review}from'./view1';// import { Route, Switch, Redirect} from 'react-router';\n//the updateUser prop takes a function that takes a user and returns voide\n// it will match updateUser in App.\nexport var UpdateRe=/*#__PURE__*/function(_React$Component){_inherits(UpdateRe,_React$Component);var _super=_createSuper(UpdateRe);function UpdateRe(props){var _this;_classCallCheck(this,UpdateRe);_this=_super.call(this,props);_this.setAmount=function(pw){_this.setState({amount:pw.currentTarget.value});};_this.setDescription=function(pw){_this.setState({description:pw.currentTarget.value});};_this.setType=function(pw){_this.setState({type:pw.currentTarget.value});};_this.clearError=function(){_this.setState({errorMessage:'',isError:false,success:false,id:'',amount:'',description:'',type:''});};_this.attemptUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var levelup;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(event);_context.prev=2;_context.next=5;return createNew(_this.props.id,_this.state.amount,_this.state.description,_this.state.type);case 5:levelup=_context.sent;_this.props.updateUserxx(levelup);_this.setState({user:levelup,amount:'',description:'',success:true});console.log(levelup);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);_this.setState({description:'',isError:true,success:false,errorMessage:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={id:'',amount:'',description:'',type:'',userid:'',isError:false,errorMessage:'',success:false,user:''};return _this;}_createClass(UpdateRe,[{key:\"render\",value:function render(){if(!this.state.success){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.attemptUpdate},/*#__PURE__*/React.createElement(\"span\",{className:\"tag\"},\" New\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{onChange:this.setAmount,value:this.state.amount,type:\"number\",name:\"amount\",id:\"amount\",placeholder:\"set amount\",required:true}),/*#__PURE__*/React.createElement(\"input\",{onChange:this.setDescription,value:this.state.description,type:\"text\",name:\"description\",placeholder:\"describe here\",autoComplete:\"false\",required:true})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"select\",{onChange:this.setType,name:\"type\",required:true},/*#__PURE__*/React.createElement(\"option\",null,\"select type\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"Food\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"Travel\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"Other\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"notdiv\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"submit\"}))),/*#__PURE__*/React.createElement(\"h3\",null,this.state.errorMessage));}else{var data=this.state.user;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Submitted ..\",/*#__PURE__*/React.createElement(\"span\",{className:\"button\",onClick:this.clearError},\"create another\")),/*#__PURE__*/React.createElement(Review,{id:data.reimbursementId,author:data.author,amount:data.amount,resolver:data.resolver,status:data.status,type:data.type,description:data.description,date1:data.dateSubmitted,date2:data.dateResolved}));}}}]);return UpdateRe;}(React.Component);","map":{"version":3,"sources":["/Users/Shadow/propject/project-1-mohamedctm/src/components/rem/create.tsx"],"names":["React","createNew","Review","UpdateRe","props","setAmount","pw","setState","amount","currentTarget","value","setDescription","description","setType","type","clearError","errorMessage","isError","success","id","attemptUpdate","event","preventDefault","console","log","state","levelup","updateUserxx","user","message","userid","data","reimbursementId","author","resolver","status","dateSubmitted","dateResolved","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Reimbursement } from '../../models/Reimbursement';\nimport { createNew } from '../../api/LibraryClient';\nimport { Review } from './view1';\n// import { Route, Switch, Redirect} from 'react-router';\n\n//the updateUser prop takes a function that takes a user and returns voide\n// it will match updateUser in App.\ninterface IUpdateComponentProps {\n  updateUserxx: (user:Reimbursement) => void;\n  id:number|any;\n}\n\ninterface ILoginComponentState {\n    id: number |any,\n    amount: number |any,\n    description: number |any,\n    type: number |any,\n  userid: number | any;\n  isError: boolean;\n  errorMessage: string;\n  success:boolean;\n  user: Reimbursement |any;\n}\n\nexport class UpdateRe extends React.Component<IUpdateComponentProps, ILoginComponentState> {\n\n  constructor(props: IUpdateComponentProps) {\n    super(props);\n    this.state = {\n        id: '',\n        amount: '',\n        description: '',\n        type: '',\n      userid: '',\n      isError: false,\n      errorMessage: '',\n      success:false,\n      user:'',\n    }\n  }\n\n  setAmount= (pw: any) => {\n    this.setState({\n      amount: pw.currentTarget.value,\n    })\n  }\n  setDescription = (pw: any) => {\n    this.setState({\n      description: pw.currentTarget.value,\n    })\n  }\n  setType= (pw: any) => {\n    this.setState({\n      type: pw.currentTarget.value,\n    })\n  }\n//   setId = (pw: any) => {\n//     this.setState({\n//       id: pw.currentTarget.value,\n//     })\n//   }\n\n  clearError = () => {\n    this.setState({\n      errorMessage: '',\n      isError: false,\n      success: false,\n      id: '',\n      amount: '',\n      description: '',\n      type: '',\n\n      \n    })\n  }\n\n  attemptUpdate = async (event: any) => {\n    event.preventDefault();\n    console.log(event);\n    try {\n      const levelup : Reimbursement = await createNew(this.props.id,this.state.amount,this.state.description,this.state.type);\n      this.props.updateUserxx(levelup);\n      this.setState({\n          user: levelup,\n        amount: '',\n        description: '',\n        success: true\n      });\n      console.log(levelup);\n    \n    } catch (error) {\n      this.setState({\n        description: '',\n        isError: true,\n        success:false,\n        errorMessage: error.message,\n      })\n    }\n  }\n\n  render() {\n    if(!this.state.success){\n    return (\n      <div>\n      <form onSubmit={this.attemptUpdate}>\n        <span className=\"tag\"> New</span>\n          {/* <div>\n            <input onChange={this.setId} value={this.state.id} type=\"number\" name=\"id\"  \n            placeholder=\"ID (required!)\"  required />\n          </div> */}\n          <div>\n          <input onChange={this.setAmount} value={this.state.amount} type=\"number\" name=\"amount\"\n           id=\"amount\" placeholder=\"set amount\"\n           required/>\n            <input onChange={this.setDescription} value={this.state.description} type=\"text\" name=\"description\" \n            placeholder=\"describe here\" autoComplete='false' required />\n          </div>\n          \n            <div>\n            <select onChange={this.setType} name=\"type\" required>\n            <option >select type</option>\n            <option value=\"1\">Food</option>\n            <option value=\"2\">Travel</option>\n            <option value=\"3\">Other</option>\n            </select>\n          </div>\n          \n          <div className=\"notdiv\">\n            <input type=\"submit\" value=\"submit\" />\n          </div>\n      </form>\n     {<h3>{this.state.errorMessage}</h3>}\n      </div>\n    );\n    }\n    else{ \n        \n        const data = this.state.user;\n        \n        return (\n      <>\n    <h3>Submitted ..\n\n        <span className=\"button\" onClick={this.clearError}>create another</span>\n    </h3>\n    <Review id={data.reimbursementId} author={data.author} amount={data.amount} resolver={data.resolver} status={data.status} type={data.type} description={data.description} date1={data.dateSubmitted} date2={data.dateResolved} />\n\n    </>\n     ) \n    }\n  }\n\n}"]},"metadata":{},"sourceType":"module"}